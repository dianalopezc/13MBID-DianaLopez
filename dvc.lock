schema: '2.0'
stages:
  visualize_data:
    cmd: python src/data_visualization.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    outs:
    - path: docs/figures/correlacion.png
      hash: md5
      md5: d7dfc242501eecb02996913f809c80db
      size: 94874
    - path: docs/figures/distribucion_dia_semana.png
      hash: md5
      md5: 4f3632438e6ab171796ea62adec26e12
      size: 14327
    - path: docs/figures/distribucion_educacion.png
      hash: md5
      md5: 24e6e9e24d788bd1a3095b08904ecf84
      size: 19525
    - path: docs/figures/distribucion_target.png
      hash: md5
      md5: e7f266fe81d70524d88e2c040ee74a0d
      size: 24025
  test_data_quality:
    cmd: .\.venv\Scripts\python.exe -m pytest --html=docs/test_results/test_results.html
      --self-contained-html test/test_data_quality.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: test/test_data_quality.py
      hash: md5
      md5: 6abd9fbd77b3608bd5e3844dd539c39d
      size: 3139
    outs:
    - path: docs/test_results/test_results.html
      hash: md5
      md5: 4daa2b9fffdf1c72bde1174edb012727
      size: 34505
  test_data_gx:
    cmd: .\.venv\Scripts\python.exe -m pytest --html=docs/test_results/test_results_gx.html
      --self-contained-html test/test_data_gx.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: test/test_data_gx.py
      hash: md5
      md5: cda3e7030d4da8151a359297cb47ce2e
      size: 1804
    outs:
    - path: docs/test_results/test_results_gx.html
      hash: md5
      md5: e5e39351692e4d3ca999e4285dc19e21
      size: 33323
  preprocess_data:
    cmd: python src/data_preparation.py
    deps:
    - path: data/raw/bank-additional-full.csv
      hash: md5
      md5: f6cb2c1256ffe2836b36df321f46e92c
      size: 5834924
    - path: src/data_preparation.py
      hash: md5
      md5: 3564ffc09649d5ce3d47331a22f26a23
      size: 1620
    outs:
    - path: data/processed/bank-processed.csv
      hash: md5
      md5: ff2d26ed26f2ca53dc40109191481bea
      size: 4402467
  train_model:
    cmd: python src/train_model.py
    deps:
    - path: data/processed/bank-processed.csv
      hash: md5
      md5: ff2d26ed26f2ca53dc40109191481bea
      size: 4402467
    - path: src/train_model.py
      hash: md5
      md5: 8995f2d58a165b914578d475b14b8c5a
      size: 8883
    outs:
    - path: metrics/model_metrics.json
      hash: md5
      md5: 763930445ba894ac2a2e6de42d5d1e69
      size: 160
    - path: models/decision_tree_model.pkl
      hash: md5
      md5: fdc6ff6f9bd5c8db2904b67931217210
      size: 134585
    - path: models/preprocessor.pkl
      hash: md5
      md5: e79ed6128d82b2d77b069cefd2933984
      size: 7507
  test_model:
    cmd: .\.venv\Scripts\python.exe -m pytest --html=docs/test_results/test_results_model.html
      --self-contained-html test/test_trainning.py
    deps:
    - path: metrics/model_metrics.json
      hash: md5
      md5: 763930445ba894ac2a2e6de42d5d1e69
      size: 160
    - path: test/test_trainning.py
      hash: md5
      md5: 7cfebc0c977eb3a077de7e5b94767c0f
      size: 1708
    outs:
    - path: docs/test_results/test_results_model.html
      hash: md5
      md5: f8825603b990c0c5dba5882e0799edc6
      size: 33902
